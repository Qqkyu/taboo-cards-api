---
import Layout from "@/layouts/layout.astro";
import { Playground } from "@/components/playground/playground.component";
import { CARDS_PATHS, LOCALHOST_API_URL_PREFIX } from "@/paths/api.paths";
import { getLangFromUrl } from "@/i18n/utils";

const response = await fetch(`${LOCALHOST_API_URL_PREFIX}${CARDS_PATHS.random}`);
const cardJson = await response.json();
const randomCard = JSON.stringify(cardJson, null, 2);

const lang = getLangFromUrl(Astro.url);
---

<Layout>
  <Playground initialData={randomCard} lang={lang} client:load />
</Layout>
